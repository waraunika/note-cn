# 2.1 Network monitoring: delay, latency, throughput
Network performance is an important issue in data and computer networking. Various factors are to be considered to monitor the network.
1. Bandwidth
	- BW is the amount of data that passes through a network connection over time as measured in bits per second.
	- the data rate supported by a network connection or interface
	- represents the overall capacity of the connection
2. Latency
	- an expression of how much time it takes for a packet of data to travel from one node to another
	- total latency of a network is one-way latency from source to destination plus the one-way latency from the destination back to the source
3. Throughput
	- average rate of successful messages that a communication channel can deliver over a communication period
	- its measuring unit is bits/second (bps), megabits per second (Mbps) or gigabits per second (Gbps)
4. Delay
	- The delay of a network specifies how long it takes for a bit of data to travel across the network from one node (host or router) or endpoint to another
	- when a packet travels from one node to the subsequent node along the path, it suffers from several types of delays at each and every node along the paths like Nodal processing delays/ processing delays, delay in queuing, transmission delay and delay in propagation
5. Processing delay
	- the time required to examine the packet header and determine where to direct the packet
6. Queuing delay
	- at the queue, the packets experience a queuing delay, when they wait to transmit on the links
7. Transmission delay
	- it is also called store and forward delay
	- the packets are transmitted on the first come first served basis.
	- it is the time required to transmit all the packets bits into the link
8. Propagation
	- the time required for the desired router is propagation delay
# 2.2 Transmission media: TP, Coaxial, Fiber Optic, LoS, Satellite
- A transmission Medium can be broadly defined as anything that can carry information from source to destination.
- located below & directly controlled by the physical layer
- can be divided into two broad categories:
	- guided transmission media
	- unguided transmission media
## 2.2.1 Guided Media
- With guided media, the waves are guided along a solid medium, such a fiber-optic cable, a twisted-pair copper wire or a coaxial cable.
- transmission capacity (bandwidth and data rate) depends on distance and type of network.
- guided media is also referred to as wired or bounded transmission media
- features:
	- high speed
	- secure
	- used for comparatively shorter distances
### Twisted Pair Cables
- description: Two insulated copper wires twisted together to reduce crosstalk and electromagnetic interference (EMI)
- **Applications**
	- Most common transmission media for digital and analogue signals
	- Used in telephone networks between house and local exchange (subscriber loop)
	- used for communications within the building
- **Characteristics**
	- least expensive and most widely used
	- short distance transmission (needs repeaters every 2-3 km for digital and 5-6 km for analogue signal)
	- susceptible to interference, crosstalk and noise
	- has low security
- **Advantage**
	- protect somewhat against cross talk & interference
	- easy to work with & well understood technology
	- easy to add computers to network
	- less expensive
- **Disadvantage**
	- susceptibility to noise
	- least secure
	- distance limitations - short range
	- low data rate
	- requires expensive hubs
- Categories:
	1. Unshielded Twisted Pair (UTP)
		- contains no shielding
		- more susceptible to noise
		- used because of least cost and easy installation
		- figure:
		  ![[utp.png]]
	2. Shielded Twisted Pair (STP)
		- contains an outer conductive shield that is electrically grounded to insulate signals from external electrical noise
		- uses inner foil shields to protect each wire pair from noise generated by other pairs
		- used in rapid data rate ethernet, in voice and data channels of telephone lines
		- figure:
		  ![[stp.png]]
### Coaxial Cable
- consists of two conductors, but is constructed differently to permit it to operate over a wider range of frequencies
- has central core conductor of solid enclosed in an insulating sheath, which is then encased in an outer conductor of metal foil, braid or combination of the two
- outer metallic wrapping acts as a shield against noise and as the second conductor
- outer conductor is covered with a jacket or shield
- single coaxial cable has a diameter of 1-2.5 cm
- can be used over long distances and supports more stations on a shared line than twisted pair
- Figure:
  ![[coaxial.png]]
- **Applications**:
	- television distribution - aerial to TV & CATV systems
	- long distance telephone transmission - traditionally used for inter-exchange links
	- short run computer system links
	- local area networks
- **Advantages**
	- can support higher frequencies and data rates
	- better noise immunity
	- easy to install and expand
	- inexpensive
### Optical Fiber Cable
- thin glass or plastic tube used to guide light rays
- has a circular cross section with diameter of only a fraction of a centimetre
- light source is placed at the end of the fibre, and light passes through it, and exits at the other end of the cable
- consists of 3 parts:
	- core: innermost section of the fibre, which may be one or more very thin strands or fibres
	- cladding: plastic or glass coating with optical properties different from core
	- jacket: outermost layer surrounding one or more cladding
- Figure:
  ![Optical Fibre | 225][optical_fibre.png]![Total Internal Reflection | 425][working_optical_fibre.png]
- **Applications**:
	- used in cable TV networks
	- used in backbone network (can transfer data rates of 1600 Gbps)
	- used in fast ethernet networks (can support hundreds of station)
- **Advantages**;
	- high data rate and wide bandwidth
	- immunity to electromagnetic interference and lightning damage
	- low attenuation
	- longer distance 2-5 km with multimode fibre or over 25 km with single mode fibre
	- small cable diameter and light weight
	- no sparks if cut, no shock hazard
- **Disadvantages**:
	- expensive installation, testing and maintenance equipment are costly
	- difficult to install
	- fibres are not mechanically robust as copper wire
	- requires two cables to transmit and receive data
	- requires special connections to join fibres
	- requires technical and expert manpower

| Twisted Pair Cable                                                                       | Coaxial Cable                                                                               | Optical Fibre                                                               |
| ---------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| Signal transmission take place in the electrical form over the metallic conducting wires | Signal transmission take place in the electrical form over the inner conductor of the cable | Signal transmission takes place in an optical form over a glass fibre       |
| Noise immunity is low, so more distortion                                                | higher noise immunity due to presence of shielding conductor                                | highest noise immunity as the light rays are unaffected by electrical noise |
| affected due to an external magnetic field                                               | less affected due to external magnetic field                                                | not affected by the external magnetic field                                 |
| short circuit between the two conductors is possible                                     | short circuit between the two conductors is possible                                        | short circuit is not possible                                               |
| cheapest                                                                                 | moderately expensive                                                                        | expensive than other cables                                                 |
| low bandwidth                                                                            | moderately high bandwidth                                                                   | very high bandwidth                                                         |
| power loss due to conduction and radiation                                               | power loss due conduction                                                                   | power loss due to absorption, scattering, dispersion and bending.           |
## 2.2.2 Unguided Media
- waves propagate in the atmosphere and in outer space
- also referred to as wireless or unbounded transmission media
- provide a means for transmitting electromagnetic waves but do not guide them
### Radio Waves
- EM waves, but operate at radio frequency range
- area covered depends on the power of transmitter
- radio waves use omnidirectional antennas that send out signals in all directions
- the range in frequencies of radio waves is 3 KHz to 1 GHz
- in case of radio waves, the sending and receiving antenna are not aligned.
	- i.e. the wave sent by the ending antenna can be received by any receiving antenna
- Applications:
	- useful for multicasting when there is one sender and many receivers
	- an FM radio, television, cordless phones are examples of radio wave
### Microwaves
- EM waves having frequencies between 1 and 300 GHz are called microwaves
- unidirectional and microwave propagation is a line of sight
	- i.e. the sending and receiving antennas need to be properly aligned with each other.
- mainly used for mobile phone communication and television distribution
- **Characteristics**:
	- frequency range: terrestrial microwave range is from 4-6 GHz to 21-23 GHz
	- bandwidth: from 1 to 10 Mbps
	- cost: inexpensive for short distances, expensive for long distance as it requires a higher tower
	- attenuation: affected by environmental conditions and antenna size
- Category:
	- Terrestrial Microwave Link: ground-based microwave transmission 
	- Satellite Microwave Link: between ground stations and a satellite in orbit
### Infrared Waves
- good wireless technology for short range communication
- **Characteristics**:
	- the frequency range of the infrared waves is in the range of 300 to 400 THz
	- used for short-range communication like:
		- data transfer between 2 cell phones
		- tv remote operation
		- data transfer between a computer and cell phone resides in the same closed area
	- supports high bandwidth, and hence high data rate
	- cannot penetrate walls
	- unreliable outside building because sun rays will interfere with infrared waves
	- limited to short distances and highly directional
## 2.2.3 Satellite
- physical object that revolves around the earth a known height
- placed in earth orbit for the purpose of communicating, weather forecast, research, military purpose, etc
- satellite accepts the signal that is transmitted from the earth station and amplifies the signal
- amplified signal is re-transmitted to another station
## 2.2.4 Miscellaneous
### Factors to select a transmission media:
1. Bandwidth & Data rate: what is the speed requirement
2. Transmission Distance: how far the signal needs to travel
3. Cost: Installation and maintenance expenses should be analysed
4. noise immunity and security: susceptible to interference and eavesdropping
5. environment: physical obstacles, EMI levels, and installation logistics
### Optical Fibre replacing copper/wireless
- while wired (copper) and wireless media are essential for end-user connections
- optical fibre is replacing them in network backbones and core infrastructure
- due to its superior bandwidth, longer distances transmission and complete immunity to electrical interference
- despite its cost and manpower requirement, these advantages outweigh any traditional advantages of other system
# 2.3 Circuit Switching and Multiplexing
## 2.3.1 Switching
- process to forward packets coming from one port to a port leading towards the destination.
- when data comes on a port, it is called ingress
- and when data leaves a port, egress
### A. Circuit Switching
- Concept: establishes a dedicated physical path between the source and destination for the entire duration of the communication
- Analogy: A traditional telephone call - a dedicated line is setup from caller to receiver, used exclusively by them, and then torn down at the end
- also called connection oriented switching
- Process:
	- Connection Setup: Establishes the dedicated path
	- Data Transfer: Continuous data flow over the established path
	- Termination Phase: The path is terminated after the communication is complete
- the routing decision is made when there is a link set up across the network
- after the link has been set up, the information is forwarded continuously over the link.
- most common example of circuit switching is in Public Switched Telephone Network (PSTN)
- Figure:
  ![Circuit Switching | 600][circuit_switching.png]
### B. Packet Switching
- Concept: 
	- Data is broken into smaller units called packets
	- each packet is sent independently and can take different routes to the destination
- Analogy: The postal system - large document is broken into envelopes, each with an address, and they make take different routes to reach the same destination
- No Dedicated path is established
- Resources are used on demand, leading to more efficient use of network
- two approaches
#### B.1 Virtual Circuit Switching
- cross between circuit-switched network and a datagram network
- a preplanned route is established before any packets are sent
- once the route is established, all the packets between a pair of communication parties follow the same path established during connection
- the route is same through the network
- because the route is fixed for the duration of the logical connection, it is similar to circuit switching network, and is referred as virtual circuit
- has some characteristics of both
- as in a circuit-switched network, there are setup, data transfer and setup phase
- as in datagram network, data is packet-ised and each packet carries an address in the header
- figure:
  ![[virtual_ckt.png]]
- **Working**
	- an initial setup phase is used to setup a route between intermediate nodes for all the packets passed during the session between the two end nodes
	- in each intermediate node, an entry is registered in a table to indicate the route for the connection that has been setup
	- thus, packets passed through this route can have short headers containing only a virtual circuit identifier (VCI)
	- VCI is a small number used by a frame between two switches of nodes for data transfer between them
	- each switch can use its own set of VCIs
- figure for VCI operation:
  ![| 600][data_transfer_using_vci.png]
- types of virtual circuit: permanent and switched virtual circuit
#### B.2 Datagram Switching
- each packet is treated independently
- each packet in a packet switching technique has two parts:
	- header: contains the addressing information of the packet, used by intermediate routers to direct it towards its destination
	- payload: carries the actual data
- packet is transmitted as soon as it is available in a node, based upon its header information
- the packets of a message are not routed via the same path
- so, the packets in the message arrive at the destination out of order
- responsibility of destination to reorder the packets in order to retrieve the original message
- the datagram networks are sometimes referred to as connectionless networks
- figure:
  ![Datagram Switching | 600][datagram_switching.png]
#### B.3 Differences:
| Aspect             | Datagram Approach                                          | Virtual-Circuit Approach                                   |
| ------------------ | ---------------------------------------------------------- | ---------------------------------------------------------- |
| Circuit Setup      | Not needed                                                 | Needed                                                     |
| Addressing         | Each packet contains a full source and destination address | Each packet contains a virtual circuit number              |
| Routing            | Each packet is routed independently                        | Route is chosen when VC is setup and all packets follow it |
| Effect of failure  | None, except for a packet lost during the crash            | All VCs that pass through failure routers, are terminated  |
| State information  | Routers do not hold state information about connection     | Each VCs requires router table space per connection        |
| Quality of Service | Difficult to maintain                                      | easy if enough resources are allocated                     |
| Congestion Control | Difficult to control                                       | Easy if enough resources are allocated                     |
### C. Message Switching
- switching technique in which a message is first received completely and is buffered until there are resources available to transfer it to the next hop
- with this form of switching, no physical path is established in advance between sender and receiver
- the destination address is appended to the message
- message switching provides a dynamic routing as the message is routed through the intermediate nodes based on the information available in the message
- A network using this technique is called a store and forward network where each and every node stores the entire message and then forwards it
- If the next hop is not having enough resource to accommodate a large size message, the message is stored and switch waits
- Figure:
  ![[message_switching.png]]
- message switching is replaced by packet switching
- drawbacks:
	- every switch in the transit path needs enough storage to accommodate the entire message
	- because of store-and-forward technique, and waits included until resources are available, message switching is very slow
	- message switching was not a solution for streaming media and real-time application
1. define switching
2. explain various switching technology with practical implementation examples
3. explain packet switching in detail
4. discuss how data goes throw switch to switch in frame relay victual-circuit network
5. differentiate between datagram switching and virtual circuit switching approach
6. explain virtual circuit switching in detail
7. differentiate circuit switching and packet switching, and which you would prefer, and why?



### D. Miscellaneous
#### Comparison
| Aspect         | Circuit Switching                                                     | Packet Switching                                      |
| -------------- | --------------------------------------------------------------------- | ----------------------------------------------------- |
| Path           | Dedicated physical path                                               | no dedicated path; dynamic routing                    |
| bandwidth      | fixed bandwidth, reserved in advance                                  | bandwidth is shared on demand                         |
| overhead       | high overhead for setup/teardown                                      | lower overhead per packet                             |
| delay          | constant delay after setup                                            | variable delay (jitter)                               |
| efficiency     | inefficient for bursty data (silence in voice calls wastes bandwidth) | highly efficient for burst data                       |
| data integrity | suitable for real-time, continuous streams (voice)                    | packets can arrive out-of-order; requires re-assembly |
#### Preference
Packet Switching is preferred over circuit switching. because:
1. It is far more efficient and robust
	- it efficiently shares network bandwidth among many users, is cost effective, can easily handle burst traffic (like web browsing and email).
	- its connection-less (datagram) nature makes the network resilient in failres
2. Widely Applicable
	- it is still used for applications requiring guaranteed, constant quality, like traditional landline voice networks
## 2.3.2 Multiplexing
- method where multiple message signals from different devices are combined into one single signal and transmitted over a shared medium
- the multiplexing divides the transmission capacity of single high-level communication channel into several low-level logical channels, one for transmission of each message signal or data stream.
- to extract the original signal on the receiver side, a process called demultiplexing is done.
- general working principle figure:
  ![Multiplexing | 600][multiplexing.png]
### A. Frequency Division Multiplexing (FDM)
- FDM is an analogue technology where many signals are transmitted simultaneously
- FDM divides the spectrum or carrier bandwidth in logical channels
- allocates one user to each channel
- each user can use the channel frequency independently and has exclusive access to it
- all channels are divided in such a way that they do not overlap with each other.
- channels are separated by guard bands
- guard bands is a frequency spectrum which is not used by any channel
- working figure:
  ![ | 600][fdm.png]
- **Applications**:
	- used in AM radio (broadcasting 530 to 1700 KHz band)
	- used in FM radio (broadcasting 88 to 108 MHz band)
	- used in TV broadcasting
	- used in cellular communication
### B. Time Division Multiplexing (TDM)
- all signals to be transmitted are not transmitted simultaneously
- they are transmitted one by one
- each input occupies a time slot sending a unit which can be a bit, character, or block of data
- the data are organised into frames
- each frame consists of a cycle of time slots
- for N input connections, the frame is divided into N time slots and one slot is allotted to each input line.
- working figure:
  ![ | 600][tdm.png]
- **Applications**:
	- TDM finds its application mainly in a digital communication system, in cellular radio and in satellite communication system
### C. Wavelength Division Multiplexing (WDM)
- variation of FDM in fiber optic channels
- principle of WDM is that multiple light sources are combined into one single light at the multiplexer
- and the reverse process is done at the demultiplexer
- light has different wavelengths (colors)
- this is an analogue technique and is done conceptually in the same manner as FDM but uses light as signals
- working figure:
  ![|600][wdm.png]
## 2.3.3 Differences
| Aspect           | Switching                                                                                   | Multiplexing                                                                 |
| ---------------- | ------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| Basic Purpose    | Path establishment and routing - determining how to forward data from source to destination | channel sharing - combining multiple signals into one transmission medium    |
| primary function | connecting the right input to the right output port                                         | combining multiple input streams into a single output stream                 |
| when it occurs   | when data needs to be routed through network nodes                                          | when multiple users need to share a communication channel                    |
| resource usage   | determines which path data takes through the network                                        | enables efficient utilisation of available bandwidth                         |
| network location | occurs at switches, routers, and network nodes                                              | occurs at both ends of communication (multiplexer & demultiplexer)           |
| Data Handling    | makes forwarding decisions based on address                                                 | combines signals using different techniques                                  |
| dependency       | can work without multiplexing                                                               | often used together with switching for efficient network design              |
| analogy          | post office sorting mail - deciding which route letters take to destination                 | highway with multiple lanes - many cars sharing the same road simultaneously |
# 2.4 Digital Telephony and ISDN
## A. Hierarchy in Digital Telephony
### A.1 T1 Carrier System
- Overview:
	- A digital carrier system developed by AT&T, standard in North America
	- Forms the foundation of the T-carrier hierarchy
- Technical Structure:
	- combines 24 individual DS0 channels (each 64 kbps)
	- total bandwidth: 1.544 Mbps
	- Frame structure:
		- each DS0 channel contributes 8 bits per frame
		- 24 channels x 8 bits = 192 bits of data
		- additional 1 framing bit for synchronisation
		- total frame size = 193 bits
	- Timing and Data Rate:
		- sampling follows the Nyquist theorem: 8000 frames/second
		- Gross Data Rate calculation: 193 bits/frame x 8000 frames/second = 1.544 Mbps
	- Bit Allocation per Channel:
		- 7 bits for PCM-econded voice data (56 kbps)
		- 1 bit for signaling/control (8 kbps)
	- Multiplexing Hierarchy:
		- Multiple T1 (DS1) signals are multiplexed to form higher-speed lines (e.g., DS3)
- figure:
  ![|650][t1.png]
### A.2 E1 Carrier System
- Overview:
	- A digital carrier system standard, used in Europe, Asia and many other regions
	- Conceptually similar to T1, but with higher capacity
- Technical Structure:
	- Combines 32 time slots (channels)
	- total bandwidth: 2.048 Mbps
	- Frame structure:
		- 32 time slots x 8 bits = 256 bits per frame
		- time slots are designated as TS0 to TS31
		- sampling rate: 8000 frames/second
		- data rate: 256 x 8000 frames/sec = 2.048 Mbps
- Time Slot Allocation:
	- TS0: Framing & Synchronisation (carries a fixed pattern for frame alignment)
	- TS1 to TS15: User Channels (for voice or data)
	- TS16: Signaling (call setup, teardown, and control)
	- TS17 to TS31: User Channels (for voice or data)
- Figure:
  ![|650][E1.png]
## B. ISDN: Integrated Services Digital Network
- **Concept**: 
	- definition: A circuit-switched telephone network system that provides digital end-to-end connectivity over standard telephone copper wires
	- was designed to carry voice, data, video and graphics simultaneously.

- **Purpose & Motivation**:
	- Telephone companies developed ISDN to create a fully digital network, overcoming the bandwidth limitations and noise of the tradition analogue local loop, thereby enabling integrated multimedia services
	- the traditional PSTN used an analogue connection for communicating between the customer premises and the local exchange, also known as the local loop
	- the analogue circuits cause the limitations on the bandwidth in the local loop
	- so, ISDN was developed with the intention of creating a totally digital network
	- ISDN technology allows digital signals to be sent over existing telephone lines

- figure:
  ![ISDN Architecture | 600][isdn.png]
- ISDN **Architecture & Components**:
	- **Functional Groups** (Devices):
		- TE1 (Terminal Equipment 1) - ISDN-compatible device (e.g., digital phone)
		- TE2 (Terminal Equipment 2) - Device not compatible with ISDN (e.g., analogue phone, computer), requires TA
		- TA (Terminal Adaptor) - Converts signals from a TE2 for use on the ISDN
		- NT1 (Network Terminal) - Connects 4-wire customer wiring to 2 wire local loop
		- NT2 (Network Terminal) - Directs traffic between multiple subscriber devices and NT1
		- ISDN Switch - provides multiple ISDN Interfaces on an ISDN line
	- ISDN Reference Points
		- R: References the connection between a non-ISDN compatible device TE2 and a TA, for example an RS-232 serial interface
		- S: References the points that connect into the customer switching device NT2 and enables calls between the various types of customer premises equipment
		- T: Electrically identical to the S interface, it references the outbound connection from the NT2 to ISDN network or NT1
		- U: References the connection between the NT1 and the ISDN network owned by the telephone company
- ISDN Channels
	- B Channel (Bearer Channel): used for carrying data. it has 64 Kbps voice channel of 8 bits sampled at 8 KHz
	- D Channel (Bearer Channel): used for carrying signaling information to the circuit switch calls associated with B Channel. D channel might be 16 Kbps or 64 Kbps
- ISDN Interface
	- BRI: 
		- The ISDN Basic Rate Interface (BRI) service offers two B channels and one D channel (2B + D). 
		- Each BRI B channel operates at 64 kbps and is meant to carry user data
		- BRI D channel operates at 16 bps and is meant to carry control and signaling information, although it can support user data transmission under certain circumstances
		- synchronising and framing bits (overhead) at 48 kbps
		- hence total rate is 192 kbps
	- PRI:
		- stands for Primary Rate Interface
			- Type-1 (23B + D): 
				- The bandwidth is divided into 24 64 KB channels
				- the ISDN PRI services used 23 B channel accesses and uses the 24th D channel for signaling purposes.
				- total data rate is 1.544 Mbps (T1 Hierarchy)
			- Type-2 (30B + D):
				- The bandwidth is divided into 32 64 KB channels
				- the ISDN PRI services used 30 B channel, one D channel and one synchronising and framing bits with data rates of 64 Kbps each.
				- total data rate is 2048 Kbps (E1 - Hierarchy). 

[[Chapter 3 Data Link Layer]]